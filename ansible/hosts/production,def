[production-web1]
web1.mydomain

[production-web2]
web2.mydomain

[web-servers:children]
production-web1
production-web2

[production-db]
production-db.mydomain

[db-servers:children]
production-db

[production:children]
web-servers
db-servers

[all:vars]
ansible_ssh_port=22
#ansible_ssh_user=ansible
hosts_env=production
hosts_allow_sshd=x.x.x.x
### system ###
localtime=Japan
vconsole_keymap=jp106
locale_lang="ja_JP.UTF-8"
### aliases ###
aliases_notice=admin@mydomain
aliases_warning=admin@mydomain
aliases_critical=admin@mydomain
### chronyd ###
# Use CentOS default
#chronyd_servers='["0.centos.pool.ntp.org", "1.centos.pool.ntp.org", "2.centos.pool.ntp.org", "3.centos.pool.ntp.org"]'
# Use Amazon Linux
chronyd_servers='["0.amazon.pool.ntp.org", "1.amazon.pool.ntp.org", "2.amazon.pool.ntp.org", "3.amazon.pool.ntp.org"]'
### END ###

[db-servers:vars]
hosts_allow_httpd=
hosts_allow_mysqld=127.0.0.1, 10.0.0.0/255.0.0.0, 172.16.0.0/255.240.0.0, 192.168.0.0/255.255.0.0, [::1], [fe80::]/10
hosts_allow_postgresql=127.0.0.1, 10.0.0.0/255.0.0.0, 172.16.0.0/255.240.0.0, 192.168.0.0/255.255.0.0, [::1], [fe80::]/10
firewalld_internal_addresses='["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16", "fe80::/10"]'
firewalld_enable_http_public=0
firewalld_enable_tomcat_internal=0
firewalld_enable_mysqld_internal=1
firewalld_enable_postgresql_internal=1
firewalld_enable_redis_internal=1
firewalld_enable_mongodb_internal=1
### MySQL/MariaDB ###
mysql_root_password=changepasswd
mysql_dbname=mytest
mysql_username=myuser
mysql_password=changepasswd
mysql_validate_password_policy=LOW
mysql_validate_password_length=6
### PostgreSQL ###
postgresql_dbname=pgtest
postgresql_username=pguser
postgresql_password=changepasswd
### END ###

[web-servers:vars]
hosts_allow_httpd=ALL
hosts_allow_mysqld=
hosts_allow_postgresql=
firewalld_internal_addresses='["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16", "fe80::/10"]'
firewalld_enable_http_public=1
firewalld_enable_mysqld_internal=0
firewalld_enable_postgresql_internal=0
firewalld_enable_redis_internal=0
firewalld_enable_mongodb_internal=0
### Tomcat ###
tomcat_enable_manager=0
tomcat_user_name=
tomcat_user_password=
### Apache/Nginx ###
httpd_front_servername=mydomain
# No use IP limit
httpd_enable_ip_limit=0
# Use IP limit
#httpd_enable_ip_limit=1
### Load Balancer ###
# No use
#httpd_ssl_is_80port=0
#httpd_ssl_check_header=
#httpd_ssl_check_value=
#httpd_log_host_header=
# Use ELB
httpd_ssl_is_80port=1
httpd_ssl_check_header=X-Forwarded-Port
httpd_ssl_check_value=443
httpd_log_host_header=X-Forwarded-For
### SSL Certificate ###
# Use default
httpd_enable_letsencrypt=0
httpd_front_crt_file=/etc/pki/tls/certs/localhost.crt
httpd_front_key_file=/etc/pki/tls/private/localhost.key
httpd_front_chain_file=
httpd_front_fullchain_file={{ httpd_front_crt_file }}
# Use Let's Encrypt(1=Not overwrite, 2=Force overwrite)
#httpd_enable_letsencrypt=1
#httpd_front_crt_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/cert.pem
#httpd_front_key_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/privkey.pem
#httpd_front_chain_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/chain.pem
#httpd_front_fullchain_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/fullchain.pem
### END ###
